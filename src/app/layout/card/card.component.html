<div *ngIf="event && (event.title === searchValue || !searchValue)">

  <div class="card h-100 shadow-sm">

    <!-- Image -->
    <img [src]="event.imageUrl"
         class="card-img-top img-fluid"
         style="height: 200px; object-fit: cover;">

    <div class="card-body d-flex flex-column">

      <!-- Titre + disponibilitÃ© -->
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="card-title mb-0"
            [ngStyle]="{ color: event.nbrPlaces === 0 ? 'red' : 'green' }">
          {{ event.title }}
        </h5>

        <span class="badge bg-secondary">
          {{ event.nbrPlaces }} places
        </span>
      </div>

      <!-- Prix + localisation -->
      <p class="text-muted mb-2">
        {{ event.price | euro }} | {{ event.location }}
      </p>

      <!-- Description -->
      <p class="mb-3">{{ event.description }}</p>

      <!-- Boutons (alignement parfait) -->
      <div class="d-flex flex-wrap gap-2 mb-3">

        <!-- Like -->
        <button
          class="btn flex-grow-1"
          [ngClass]="{
            'btn-danger': event.nbrLikes >= 5,
            'btn-warning': event.nbrLikes < 5
          }"
          (click)="notifParent(event)">
          ğŸ‘ Like {{ event.nbrLikes }}
        </button>

        <!-- Dislike -->
        <button
          class="btn btn-secondary flex-grow-1"
          [disabled]="event.nbrLikes === 0"
          (click)="dislike(event)">
          ğŸ‘ Dislike
        </button>

        <!-- Buy -->
        <button
          class="btn btn-primary flex-grow-1"
          [disabled]="event.nbrPlaces === 0"
          (click)="nbrPlaceDecr(event)">
           BuyTicket
        </button>

        <!-- Delete -->
        <button
          class="btn btn-outline-danger flex-grow-1"
          (click)="deleteEvent(event)">
           Delete
        </button>

      </div>

      <!-- Date + Details -->
      <div class="d-flex justify-content-between align-items-center mt-auto">
        <span>{{ event.date | dateTransfer }}</span>

        <a [routerLink]="['./detail', event.id]"
           class="btn btn-success btn-sm">
          More details
        </a>
      </div>

    </div>
  </div>
</div>
