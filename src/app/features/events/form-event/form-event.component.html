<div class="container my-5">
  <div class="card shadow-sm">
    <div class="card-body p-4">
      <h4 class="text-center mb-4 text-dark">Ajouter un nouvel événement</h4>
      <form #f="ngForm" action="">
        <!-- Ligne 1: Titre et Image -->
        <div class="row g-3 mb-3">
          <div class="col-md-6">
            <label for="title" class="form-label fw-semibold">Titre de l'événement</label>
            <input
              type="text"
              class="form-control"
              name="title"
              [(ngModel)]="event.title"
              required
              minlength="3"
              id="title"
              #t="ngModel"
              placeholder="Entrez le titre"
            />
            <div class="alert alert-danger mt-2 py-2" *ngIf="t.invalid && t.touched && t.hasError('required')">
              <small>Ce champ est obligatoire</small>
            </div>
            <div class="alert alert-danger mt-2 py-2" *ngIf="t.touched && t.hasError('minlength')">
              <small>La longueur minimale est de 3 caractères</small>
            </div>
          </div>

          <div class="col-md-6">
            <label for="image" class="form-label fw-semibold">Bannière de l'événement</label>
            <input
              type="text"
              class="form-control"
              [(ngModel)]="event.imageUrl"
              required
              name="image"
              id="image"
              #img="ngModel"
              placeholder="URL de l'image"
            />
            <div class="alert alert-danger mt-2 py-2" *ngIf="img.invalid && img.touched && img.hasError('required')">
              <small>Ce champ est obligatoire</small>
            </div>
          </div>
        </div>

        <!-- Ligne 2: Description -->
        <div class="mb-3">
          <label for="description" class="form-label fw-semibold">Description</label>
          <textarea
            name="description"
            class="form-control"
            id="description"
            [(ngModel)]="event.description"
            required
            #desc="ngModel"
            rows="4"
            placeholder="Décrivez votre événement..."
          ></textarea>
          <div class="alert alert-danger mt-2 py-2" *ngIf="desc.invalid && desc.touched && desc.hasError('required')">
            <small>Ce champ est obligatoire</small>
          </div>
        </div>

        <!-- Ligne 3: Date et Prix -->
        <div class="row g-3 mb-3">
          <div class="col-md-6">
            <label for="date" class="form-label fw-semibold">Date</label>
            <input
              type="date"
              name="date"
              id="date"
              class="form-control"
              [(ngModel)]="event.date"
              required
              [min]="today"
              #date="ngModel"
            />
            <div class="alert alert-danger mt-2 py-2" *ngIf="date.invalid && date.touched && date.hasError('required')">
              <small>Ce champ est obligatoire</small>
            </div>
            <div class="alert alert-danger mt-2 py-2" *ngIf="date.touched && date.hasError('min')">
              <small>La date ne peut pas être antérieure à aujourd'hui</small>
            </div>
          </div>

          <div class="col-md-6">
            <label for="price" class="form-label fw-semibold">Prix (TND)</label>
            <input
              type="number"
              step="0.001"
              id="price"
              class="form-control"
              [(ngModel)]="event.price"
              name="price"
              required
              min="0"
              #price="ngModel"
              placeholder="0.000"
            />
            <div class="alert alert-danger mt-2 py-2" *ngIf="price.invalid && price.touched && price.hasError('required')">
              <small>Ce champ est obligatoire</small>
            </div>
            <div class="alert alert-danger mt-2 py-2" *ngIf="price.touched && price.hasError('min')">
              <small>Le prix doit être positif</small>
            </div>
          </div>
        </div>

        <!-- Ligne 4: Lieu et Organisateur -->
        <div class="row g-3 mb-3">
          <div class="col-md-6">
            <label for="location" class="form-label fw-semibold">Lieu</label>
            <input
              type="text"
              name="location"
              id="location"
              class="form-control"
              [(ngModel)]="event.location"
              required
              #loc="ngModel"
              placeholder="Lieu de l'événement"
            />
            <div class="alert alert-danger mt-2 py-2" *ngIf="loc.invalid && loc.touched && loc.hasError('required')">
              <small>Ce champ est obligatoire</small>
            </div>
          </div>

          <div class="col-md-6">
            <label for="organizer" class="form-label fw-semibold">Organisateur</label>
            <select
              name="organizer"
              id="organizer"
              class="form-select"
              [(ngModel)]="event.organizerId"
              required
              #org="ngModel"
            >
              <option value="" disabled selected>Sélectionnez un organisateur</option>
              <option value="1">Slim</option>
              <option value="2">Amine</option>
              <option value="3">Tarek</option>
            </select>
            <div class="alert alert-danger mt-2 py-2" *ngIf="org.invalid && org.touched && org.hasError('required')">
              <small>Ce champ est obligatoire</small>
            </div>
          </div>
        </div>

        <!-- Ligne 5: Nombre de places -->
        <div class="row g-3 mb-4">
          <div class="col-md-6">
            <label for="places" class="form-label fw-semibold">Nombre de places</label>
            <input
              type="number"
              name="places"
              id="places"
              class="form-control"
              [(ngModel)]="event.nbrPlaces"
              required
              #places="ngModel"
              min="0"
              placeholder="Nombre de places disponibles"
            />
            <div class="alert alert-danger mt-2 py-2" *ngIf="places.invalid && places.touched && places.hasError('required')">
              <small>Ce champ est obligatoire</small>
            </div>
            <div class="alert alert-danger mt-2 py-2" *ngIf="places.touched && places.hasError('min')">
              <small>Le nombre de places doit être positif</small>
            </div>
          </div>
        </div>

        <!-- Boutons -->
        <div class="row g-3">
          <div class="col-md-6">
            <button class="btn btn-primary w-100 py-2" (click)="save()" [disabled]="f.invalid">
              <i class="bi bi-check-circle me-2"></i>Enregistrer
            </button>
          </div>
          <div class="col-md-6">
            <button class="btn btn-outline-secondary w-100 py-2" type="reset">
              <i class="bi bi-x-circle me-2"></i>Annuler
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>