<div class="container mt-5">
  <h3 class="text-center mb-4">Mes Tickets</h3>

  <table class="table table-bordered table-hover" *ngIf="tickets.length > 0; else noTickets">
    <thead class="table-dark">
      <tr>
        <th>Événement</th>
        <th>Prix</th>
        <th>Date</th>
        <th>Valide</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let ticket of tickets">
        <td>{{ getEventTitle(ticket.eventId) }}</td>
        <td>{{ ticket.price | currency:'EUR' }}</td>
        <td>{{ ticket.date | date:'short' }}</td>
        <td>
          <span class="badge" [ngClass]="ticket.valid ? 'bg-success' : 'bg-danger'">
            {{ ticket.valid ? 'Oui' : 'Non' }}
          </span>
        </td>
        <td>
          <button class="btn btn-sm btn-warning me-2" (click)="toggleValid(ticket)">
            {{ ticket.valid ? 'Annuler validation' : 'Valider' }}
          </button>
          <button class="btn btn-sm btn-danger" (click)="deleteTicket(ticket)">
            Supprimer
          </button>
        </td>
      </tr>
    </tbody>
  </table>

  <ng-template #noTickets>
    <p class="text-center">Vous n'avez aucun ticket.</p>
  </ng-template>
  
</div>
